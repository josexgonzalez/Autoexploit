function get_appcache_state() {
    var appCache = window.applicationCache;

    switch (appCache.status) {
        case appCache.UNCACHED: // UNCACHED == 0
            return 'UNCACHED';
            break;
        case appCache.IDLE: // IDLE == 1
            return 'IDLE';
            break;
        case appCache.CHECKING: // CHECKING == 2
            return 'CHECKING';
            break;
        case appCache.DOWNLOADING: // DOWNLOADING == 3
            return 'DOWNLOADING';
            break;
        case appCache.UPDATEREADY:  // UPDATEREADY == 4
            return 'UPDATEREADY';
            break;
        case appCache.OBSOLETE: // OBSOLETE == 5
            return 'OBSOLETE';
            break;
        default:
            return 'UKNOWN CACHE STATUS';
            break;
    };
}

// Función para crear la alerta con el círculo giratorio
function crearAlerta() {
    // Crear el contenedor de la alerta
    const alerta = document.createElement('div');
    alerta.style.position = 'fixed';
    alerta.style.top = '20px';
    alerta.style.left = '-300px'; // Comienza fuera de la pantalla
    alerta.style.backgroundColor = '#333';
    alerta.style.color = '#fff';
    alerta.style.padding = '10px';
    alerta.style.borderRadius = '8px';
    alerta.style.display = 'flex';
    alerta.style.alignItems = 'center';
    alerta.style.gap = '10px';
    alerta.style.boxShadow = '0 2px 10px rgba(0, 0, 0, 0.2)';
    alerta.style.zIndex = '9999';
    alerta.style.transition = 'all 0.5s ease-out'; // Transición suave

    // Crear el círculo giratorio
    const spinner = document.createElement('div');
    spinner.style.width = '20px';
    spinner.style.height = '20px';
    spinner.style.border = '3px solid #fff';
    spinner.style.borderTop = '3px solid #3498db';
    spinner.style.borderRadius = '50%';
    spinner.style.animation = 'spin 1s linear infinite';

    // Añadir la animación de giro usando JavaScript
    const style = document.createElement('style');
    style.innerHTML = `
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    `;
    document.head.appendChild(style);

    // Crear el texto de la alerta
    const texto = document.createElement('div');
    texto.textContent = '';

    // Añadir el círculo y el texto a la alerta
    alerta.appendChild(spinner);
    alerta.appendChild(texto);

    // Añadir la alerta al cuerpo del documento
    document.body.appendChild(alerta);

    // Mover la alerta hacia el centro después de un breve retardo
    setTimeout(() => {
        alerta.style.left = '50%';
        alerta.style.transform = 'translateX(-50%)'; // Centrar horizontalmente desde la izquierda
    }, 10); // Breve retardo para iniciar la transición
}

// Llamar a la función para crear la alerta
crearAlerta();
